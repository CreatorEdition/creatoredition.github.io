<!DOCTYPE html>
<html lang="en">

<head>
  <title>广西健康码</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width,height=device-height,viewport-fit=cover,initial-scale=1,maximum-scale=1,user-scalable=0">
  <meta name="theme-color" content="#EDEDED">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="app.css">
  <link rel="stylesheet" href="../../common/nav.css">
  <script src="../../common/base.js"></script>
</head>
<view class="navbar navbar--wechat navbar--wechat-alternative">
  <view class="navbar__placeholder"></view>
  <view class="navbar__inner" style="background: #327FFF;">
    <view class="navbar__left">
      <view class="navbar__buttons" onclick="history.back();">
        <view class="navbar__button-goback"></view>
      </view>
    </view>
    <view class="navbar__center">
      <text>健康宝</text>
    </view>
    <view class="navbar__right">

    </view>
  </view>
  <view class="capsule capsule--wechat capsule--alternative" onclick="navigateHome();">
    <svg class="capsule__menu-icon" viewBox="0 0 64 28" xmlns="http://www.w3.org/2000/svg">
      <circle cx="32" cy="14" r="9.5"/>
      <circle cx="54" cy="14" r="6"/>
      <circle cx="10" cy="14" r="6"/>
    </svg>
    <view class="capsule__splitter"></view>
    <svg class="capsule__exit-icon" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg">
      <circle cx="30" cy="30" r="9"/>
      <circle cx="30" cy="30" r="23" stroke-width="6" fill="transparent"/>
    </svg>
  </view>
</view>
<view class="title-bar cu-bar fixed bg-gradual-blue" style="{{$TitleBar$getStyle}}">
  <view bindtap="$TitleBar$onClickBack" class="action" wx:if="{{$TitleBar$showBack}}">
    <text class="cuIcon-back"></text>
  </view>
  <view bindtap="$TitleBar$onClickScan" class="action" wx:if="{{$TitleBar$showScan}}">
    <text class="cuIcon-scan"></text>
  </view>
  <text class="title-text" style="margin-right:{{$TitleBar$showBack||$TitleBar$showScan?80:0}}rpx;">{{$TitleBar$title}}</text>
</view>
<view style="height: {{ToolBar.toolBarHeight}}px"></view>
<view className="user-center-wrap">
  <view class="health-code-center-wrap">
    <view wx:if="{{!$HealthCodeCenter$showCacheData}}">
      <view class="notice-roll-warp" wx:if="{{$HealthCodeCenter$noticeRoll$noticeShow}}">
        <view class="srcoll_view">
          <image src="static/notice-icon.png"></image>
          <text>{{$HealthCodeCenter$noticeRoll$noticeText}}</text>
        </view>
      </view>
    </view>
    <view class="health-code-center-info">
      <view class="info-box-wrap">
        <view class="user-info-wrap">
          <view class="user-name">
            <text>{{$HealthCodeCenter$familyIndex?$HealthCodeCenter$userInfo.showName||$HealthCodeCenter$userInfo.realName:$HealthCodeCenter$userInfo.realName}}</text>
            <image catchtap="$HealthCodeCenter$userInfoDetailShow" class="eye-icon" src="static/eye-show-icon.png" wx:if="{{$HealthCodeCenter$eyeShow}}"></image>
            <image catchtap="$HealthCodeCenter$userInfoDetailShow" class="eye-icon" src="static/eye-hidden-icon.png" wx:else></image>
          </view>
          <view class="user-idCardNo" wx:if="{{$HealthCodeCenter$eyeShow}}">证件号码：{{$HealthCodeCenter$userInfo.idCardNo}}</view>
          <view class="{{$HealthCodeCenter$scanInfo.outInType?'health-code-box health-code-scan':'health-code-box'}}" style="{{$HealthCodeCenter$showCacheData?'background-color: #F6DFDF;':$HealthCodeCenter$scanInfo.outInType&&$HealthCodeCenter$userInfo.arouseWorkFlag==='01'?'min-height: 750rpx;padding-bottom: 200rpx;':''}}">
            <view class="health-code-box-warp">
              <view class="qrcode-duetime" style="color:{{$HealthCodeCenter$healthCodeBox$currentColor}}" wx:if="{{!$HealthCodeCenter$healthCodeBox$queryTime}}">{{$HealthCodeCenter$healthCodeBox$systemTime}}</view>
              <view class="reg-health-wrap" wx:if="{{$HealthCodeCenter$healthCodeBox$userInfo.queryStatus==='1'||$HealthCodeCenter$healthCodeBox$userInfo.ifAutonym!=='1'}}">
                <view class="card-tip">根据广西壮族自治区新型冠状病毒感染的肺炎疫情防控工作领导小组指挥部下发的93号文件，请严格执行广西健康码亮码出行制度，统一使用广西健康码进行出入管理。</view>
                <button catchtap="$HealthCodeCenter$healthCodeBox$registerHelthCode" class="card-button" data-wpyregisterhelthcode-a="">健康码申领 </button>
              </view>
              <view wx:else>
                <view wx:if="{{$HealthCodeCenter$healthCodeBox$showCacheData&&$HealthCodeCenter$healthCodeBox$cacheDataTimeOver}}">
                  <image class="qrcode-anomaly" src="static/qrcode-loading-bg.png"></image>
                </view>
                <view class="qrcode-status-wrap" wx:elif="{{$HealthCodeCenter$healthCodeBox$userInfo.queryStatus==='0'}}">
                  <view class="qrcode-color-text" wx:if="{{$HealthCodeCenter$healthCodeBox$userInfo.level}}">
                    <text style="color: #37b44a;" wx:if="{{$HealthCodeCenter$healthCodeBox$userInfo.level==='GREEN'}}">绿 码</text>
                    <text style="color: #EB890A;" wx:if="{{$HealthCodeCenter$healthCodeBox$userInfo.level==='YELLOW'}}">黄 码</text>
                    <text style="color: #EF3542;" wx:if="{{$HealthCodeCenter$healthCodeBox$userInfo.level==='RED'}}">红 码</text>
                  </view>
                  <canvas class="canvas-qrcode" id="qrcode" type="2d"></canvas>
                  <image class="qrcode-border" src="{{'static/qrcode-border'+$HealthCodeCenter$healthCodeBox$goldCode+'.png'}}" wx:if="{{$HealthCodeCenter$healthCodeBox$goldCode&&$HealthCodeCenter$healthCodeBox$goldCode!=='99'}}"></image>
                  <image class="qrcode-border" src="{{'static/qrcode-border2-icon.png'}}" wx:if="{{$HealthCodeCenter$healthCodeBox$goldCode==='2'&&$HealthCodeCenter$healthCodeBox$userInfo.level==='GREEN'}}"></image>
                  <view class="qrCode-bottom-info">
                    <view catchtap="$HealthCodeCenter$healthCodeBox$againQrcodeBorder" class="qrcode-border-again" data-wpyagainqrcodeborder-a="" wx:if="{{$HealthCodeCenter$healthCodeBox$goldCode==='99'}}">
                      <text>接种状态查询异常</text>
                      <image src="static/refurbish-icon.png"></image>
                    </view>
                    <view class="reason-box" wx:if="{{$HealthCodeCenter$healthCodeBox$userInfo.level!=='GREEN'}}">
                      <view class="reason-text">
                        <view style="margin-bottom: 8rpx;">转码原因:</view>
                        <view>{{$HealthCodeCenter$healthCodeBox$userInfo.reason||'-'}}</view>
                      </view>
                      <view class="zmdh-wrap" wx:if="{{$HealthCodeCenter$healthCodeBox$userInfo.zmdh}}">
                        <text>转码代号:{{$HealthCodeCenter$healthCodeBox$userInfo.zmdh}}</text>
                        <view catchtap="$HealthCodeCenter$healthCodeBox$handleDetailsModal" data-wpyhandledetailsmodal-a=""> 转码详情 <view class="com-border-arrow-icon" style="border-color: #378AE2"></view>
                        </view>
                      </view>
                      <view catchtap="$HealthCodeCenter$healthCodeBox$showReportModal" class="red-code-tip" data-wpyshowreportmodal-a="">红黄码人员报备</view>
                      <view wx:if="{{$HealthCodeCenter$healthCodeBox$userInfo.level==='YELLOW'}}">
                        <view class="through-text" wx:if="{{$HealthCodeCenter$healthCodeBox$LimitStatus}}">限时通行中</view>
                        <view catchtap="$HealthCodeCenter$healthCodeBox$gotoThrough" class="through-btn" data-wpygotothrough-a="" wx:else>限时流动申请</view>
                      </view>
                    </view>
                    <view class="report-info" wx:elif="{{$HealthCodeCenter$healthCodeBox$isShowReportInfo}}"> {{$HealthCodeCenter$healthCodeBox$reportInfo.text}} </view>
                  </view>
                </view>
                <view style="qrcode-status-wrap" wx:else>
                  <view class="enter-cache-time" wx:if="{{$HealthCodeCenter$healthCodeBox$queryTime}}">
                    <text style="color: #FF0E00">{{$HealthCodeCenter$healthCodeBox$queryTime}}</text> 秒后无响应进入断网模式 </view>
                  <view class="qrcode-anomaly" wx:if="{{$HealthCodeCenter$healthCodeBox$viewHealthCodeStatus==='loading'||$HealthCodeCenter$healthCodeBox$viewHealthCodeStatus==='waiting'}}">
                    <image class="loading-bg" src="static/qrcode-loading-bg.png"></image>
                    <image class="loading-icon" src="static/icon_refresh.png"></image>
                  </view>
                  <view catchtap="$HealthCodeCenter$healthCodeBox$reloadHealthCodeInfo" class="qrcode-anomaly" wx:else>
                    <image class="loading-bg" src="static/qrcode-loading-bg.png"></image>
                    <image class="loading-default" src="static/icon_refresh.png"></image>
                    <view class="qrcode-anomaly-text">获取失败</view>
                  </view>
                </view>
                <image class="qrcode-bg" src="static/qrcode-bg.png"></image>
              </view>
            </view>
            <view class="scan-info-box" wx:if="{{$HealthCodeCenter$scanInfo.outInType}}">
              <view class="time-box">
                <view class="outIn-type-text">{{$HealthCodeCenter$scanInfo.outInType=='01'||$HealthCodeCenter$scanInfo.outInType=='1'?'入场':'出场'}}登记</view>
              </view>
              <view class="line"></view>
              <view class="user-box">
                <view class="time">{{$HealthCodeCenter$scanInfo.scanTime}}<text class="date" style="margin-left:14rpx;">{{$HealthCodeCenter$scanInfo.scanDate}}</text>
                </view>
                <view class="item-text">{{$HealthCodeCenter$scanInfo.companyName}}</view>
              </view>
            </view>
            <view class="user-bottom-btn" wx:else>
              <view catchtap="$HealthCodeCenter$applyFamilyCode" class="bottom-btn-item" data-wpyapplyfamilycode-a="">家人健康码</view>
              <view catchtap="$HealthCodeCenter$scanCode" class="bottom-btn-item" data-wpyscancode-a="">扫码入场</view>
              <view catchtap="$HealthCodeCenter$gotoFeedback" class="bottom-btn-item" data-wpygotofeedback-a="">申诉反馈</view>
            </view>
          </view>
        </view>
        <view class="health-box-wrap" wx:if="{{$HealthCodeCenter$userInfo.queryStatus!=='1'&&$HealthCodeCenter$userInfo.ifAutonym==='1'}}">
          <view catchtap="$HealthCodeCenter$nucleicAcidBox$gotoNucleicAcidRestReport" class="nucleic-acid-box health-box-item" style="{{$HealthCodeCenter$nucleicAcidBox$_bgStyle}}">
            <view class="title-wrap" style="{{$HealthCodeCenter$nucleicAcidBox$_primaryColor?'color: #fff':''}}">
              <image src="static/nucleic-acid-icon2.png" style="width: 32rpx; height: 32rpx;" wx:if="{{$HealthCodeCenter$nucleicAcidBox$_primaryColor}}"></image>
              <image src="static/nucleic-acid-icon.png" style="width: 32rpx; height: 32rpx;" wx:else></image>
              <text>核酸结果</text>
              <view class="com-border-arrow-icon" style="{{$HealthCodeCenter$nucleicAcidBox$_primaryColor?'border-color: #fff':''}}"></view>
            </view>
            <view wx:if="{{$HealthCodeCenter$nucleicAcidBox$status==='01'}}">
              <view wx:if="{{$HealthCodeCenter$nucleicAcidBox$nucleicAcid.nucleicUpdateDuration}}">
                <view class="value-info" style="{{$HealthCodeCenter$nucleicAcidBox$_textStyle}}" wx:if="{{$HealthCodeCenter$nucleicAcidBox$nucleicAcid.hsjcjg&&$HealthCodeCenter$nucleicAcidBox$nucleicAcid.nucleicAcidRange<72}}">
                  <text class="info-range">{{$HealthCodeCenter$nucleicAcidBox$_nucleicAcidRange}}</text>
                  <view class="info-text">
                    <view style="font-size: 26rpx;">小时内</view>
                    <view style="font-weight: bold; font-size: 32rpx;">{{$HealthCodeCenter$nucleicAcidBox$nucleicAcid.hsjcjg}}</view>
                  </view>
                </view>
                <view class="none-value" wx:else>
                  <view>近72小时</view>
                  <view>无核酸报告</view>
                </view>
              </view>
              <view class="value-wrap" style="font-size: 32rpx; color:#378AE2" wx:else> 立即查询 <view class="com-border-arrow-icon" style="border-color: #378AE2"></view>
              </view>
              <view class="date-wrap" style="{{$HealthCodeCenter$nucleicAcidBox$nucleicAcid.hsjcjg==='阴性'&&$HealthCodeCenter$nucleicAcidBox$nucleicAcid.nucleicAcidRange>=48?'':'color: #fff'}}" wx:if="{{$HealthCodeCenter$nucleicAcidBox$nucleicAcid.hsjcsj&&$HealthCodeCenter$nucleicAcidBox$nucleicAcid.nucleicAcidRange<72}}"> {{'检测日期：'+$HealthCodeCenter$nucleicAcidBox$nucleicAcid.hsjcsjdate}} </view>
              <view class="date-wrap" wx:else>{{$HealthCodeCenter$nucleicAcidBox$nucleicAcid.nucleicUpdateDate||'72小时未查询'}}</view>
            </view>
            <view wx:elif="{{$HealthCodeCenter$nucleicAcidBox$status==='02'}}">
              <view catchtap="$HealthCodeCenter$nucleicAcidBox$reloadNucleicAcid" class="value-wrap"> 查询失败 <image class="reload-icon" src="static/refurbish-icon.png"></image>
              </view>
            </view>
          </view>
          <view class="travel-box health-box-item" style="{{$HealthCodeCenter$travelBox$_greenBack?'background-color: #58C661':''}}">
            <view catchtap="$HealthCodeCenter$travelBox$showCheck" class="title-wrap" data-wpyshowcheck-a="" style="{{$HealthCodeCenter$travelBox$_greenBack?'color: #fff':''}}">
              <image src="static/travel-icon2.png" style="width: 32rpx; height: 32rpx;" wx:if="{{$HealthCodeCenter$travelBox$_greenBack}}"></image>
              <image src="static/travel-icon.png" style="width: 32rpx; height: 32rpx;" wx:else></image>
              <text>核验行程</text>
              <view class="com-border-arrow-icon" style="{{$HealthCodeCenter$travelBox$_greenBack?'border-color: #fff':''}}"></view>
            </view>
            <view class="value-wrap" wx:if="{{$HealthCodeCenter$travelBox$familyIndex}}">亲属暂不支持查询行程信息</view>
            <view catchtap="$HealthCodeCenter$travelBox$gotoTXXCK" wx:else>
              <view wx:if="{{$HealthCodeCenter$travelBox$status==='01'}}">
                <view class="value-text" style="{{$HealthCodeCenter$travelBox$_greenBack?'':'color: #58C661'}}" wx:if="{{$HealthCodeCenter$travelBox$traveObj.travelStatus=='1'}}">
                  <view style="font-size: 40rpx; line-height: 52rpx;">7天内</view>
                  <view style="margin-top: 6rpx; line-height: 40rpx;">未到过高风险地区</view>
                </view>
                <view class="value-red-text" wx:elif="{{$HealthCodeCenter$travelBox$traveObj.travelStatus=='2'}}"> 7天内途经市有高风险区（不代表实际到访过高风险区） </view>
                <view class="value-wrap" style="padding: 0" wx:elif="{{$HealthCodeCenter$travelBox$traveObj.travelStatus==='3'}}">
                  <text>暂无记录</text>
                  <text catchtap="$HealthCodeCenter$travelBox$showCheck" class="to-check" data-wpyshowcheck-a="">去更新</text>
                  <text class="com-border-arrow-icon" style="border-color: #378AE2; width: 14rpx; height: 14rpx;"></text>
                </view>
                <view class="value-wrap" wx:else>
                  <text class="to-check">打开行程卡</text>
                  <text class="com-border-arrow-icon" style="border-color: #378AE2; width: 14rpx; height: 14rpx;"></text>
                </view>
              </view>
              <view catchtap="$HealthCodeCenter$travelBox$reloadTrave" class="value-wrap" wx:if="{{$HealthCodeCenter$travelBox$status==='02'}}">
                <text style="font-size: 40rpx;">查询失败</text>
                <image class="reload-icon" src="static/refurbish-icon.png"></image>
              </view>
            </view>
            <view class="date-wrap" style="{{$HealthCodeCenter$travelBox$_greenBack?'color: #fff':''}}" wx:if="{{$HealthCodeCenter$travelBox$status==='01'&&!$HealthCodeCenter$travelBox$familyIndex}}"> {{$HealthCodeCenter$travelBox$_travelAcidRange}} </view>
            <view class="modal-wrap" hidden="{{!$HealthCodeCenter$travelBox$modalShow}}">
              <view class="modal" style="height: 660rpx;">
                <view class="input-item">
                  <image src="static/check-phone.png"></image>
                  <input disabled type="text" value="{{$HealthCodeCenter$travelBox$userInfo.phone}}"></input>
                  <view catchtap="$HealthCodeCenter$travelBox$getGxTravelCode" class="btn-text" style="{{$HealthCodeCenter$travelBox$codeTimerNum?'color: #ccc ;pointer-events: none;':''}}"> {{$HealthCodeCenter$travelBox$codeTimerText+($HealthCodeCenter$travelBox$codeTimerNum?$HealthCodeCenter$travelBox$codeTimerNum:'')}} </view>
                </view>
                <view class="input-item">
                  <image src="static/check-code.png"></image>
                  <input bindblur="$HealthCodeCenter$travelBox$bindInputChange" bindinput="$HealthCodeCenter$travelBox$bindInputChange" data-wpybindinputchange-a="travelCode" maxlength="50" placeholder="请输入验证码" type="number" value="{{$HealthCodeCenter$travelBox$travelCode}}"></input>
                </view>
                <view class="checkbox-box">
                  <checkbox-group bindchange="$HealthCodeCenter$travelBox$bindInputChange" class="checkbox-group" data-wpybindinputchange-a="travelChecked">
                    <label class="checkbox-lable">
                      <checkbox checked="{{$HealthCodeCenter$travelBox$travelChecked.length>0}}" class="checkbox-item" value="checked"></checkbox>
                      <text class="checkbox-text">同意并授权运营商查询本人在疫情期间7天内到访地信息。</text>
                    </label>
                  </checkbox-group>
                </view>
                <view class="btn-wrap">
                  <view catchtap="$HealthCodeCenter$travelBox$hideCheckModal" class="btn-item btn-cancel" style="background:#fff; color: #378AE2;border: 1px solid #378AE2;">取 消 </view>
                  <view catchtap="$HealthCodeCenter$travelBox$handleCheck" class="btn-item" style="{{$HealthCodeCenter$travelBox$travelCode&&$HealthCodeCenter$travelBox$travelChecked.length>0?'':'background: #ccc;'}}">核 验 </view>
                </view>
                <view catchtap="$HealthCodeCenter$travelBox$gotoTXXCK" class="bottom-btn">
                  <text>打开行程卡小程序</text>
                  <text class="com-border-arrow-icon" style="border-color: #378AE2;"></text>
                </view>
              </view>
            </view>
          </view>
        </view>
        <view class="report-box health-box-item report-box" wx:if="{{$HealthCodeCenter$userInfo.queryStatus!=='1'&&$HealthCodeCenter$userInfo.ifAutonym==='1'&&$HealthCodeCenter$userInfo.travelRecordFlag==='01'}}">
          <view class="info-item" wx:if="{{$HealthCodeCenter$reportBox$status==='00'}}">
            <view class="title">暂无出行申报</view>
            <view class="btn-wrap">
              <view bindtap="$HealthCodeCenter$reportBox$toReport" class="btn"> 立即填写 <text class="com-border-arrow-icon" style="border-color: #fff; width: 12rpx; height: 12rpx;"></text>
              </view>
            </view>
          </view>
          <view class="info-item" style="display: flex" wx:elif="{{$HealthCodeCenter$reportBox$status==='01'}}">
            <view class="info">
              <view>
                <text>出发地：</text>{{$HealthCodeCenter$reportBox$infoData.sourceAddr}}</view>
              <view>
                <text>目的地：</text>{{$HealthCodeCenter$reportBox$infoData.destAddr}}</view>
              <view>
                <text>申报时间：</text>{{$HealthCodeCenter$reportBox$infoData.createTime}}</view>
            </view>
            <view class="status" style="{{$HealthCodeCenter$reportBox$reportStatus[$HealthCodeCenter$reportBox$infoData.bdzt].color}}">
              <text>{{$HealthCodeCenter$reportBox$reportStatus[$HealthCodeCenter$reportBox$infoData.bdzt].text}}</text>
            </view>
          </view>
          <view class="info-item" wx:else>
            <view class="title">出行申报查询异常</view>
            <view class="btn-wrap">
              <view bindtap="$HealthCodeCenter$reportBox$handleReload" class="btn"> 立即刷新 <text class="com-border-arrow-icon" style="border-color: #fff; width: 12rpx; height: 12rpx;"></text>
              </view>
            </view>
          </view>
        </view>
        <view class="button-box-warp health-box-item button-box">
          <view catchtap="$HealthCodeCenter$buttonBox$pageTo" class="button-item" data-wpypageto-a="{{item.path}}" wx:for="{{$HealthCodeCenter$buttonBox$btnList}}" wx:key="path">
            <image src="{{item.src}}"></image>
            <view class="title">{{item.label}}</view>
          </view>
          <view catchtap="$HealthCodeCenter$buttonBox$pageTo" class="button-item" data-wpypageto-a="handleUnits">
            <image src="/images/healthCode/button-box-icon8.png"></image>
            <view class="title">场所管理</view>
          </view>
          <view catchtap="$HealthCodeCenter$buttonBox$pageTo" class="button-item" data-wpypageto-a="/HealthCodeSub/pages/moreService">
            <image src="/images/healthCode/button-box-icon6.png"></image>
            <view class="title">更多服务</view>
          </view>
        </view>
        <view class="bottom-info">
          <view>广西壮族自治区大数据发展局</view>
        </view>
        <view class="qrcode-sub-title">
          <view>依托全国一体化政务服务平台／广西疫情防控一体化平台</view>
        </view>
      </view>
      <image class="rotate-bg-image-top" src="static/rotate-bg-image.png"></image>
      <image class="rotate-bg-image-bottom" src="static/rotate-bg-image.png"></image>
      <image class="blogo" src="static/blogo.png"></image>
    </view>
  </view>
</view>


</html>